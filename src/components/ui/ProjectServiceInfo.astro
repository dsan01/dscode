---
import { Icon } from 'astro-icon/components'
import { getLangFromUrl, useTranslations } from 'src/i18n/utils'
import type { ProjectServiceProps as Props } from 'src/types/props'

const { Service } = Astro.props
const lang = getLangFromUrl(Astro.url)
const t = useTranslations(lang)
---

<div class='flex w-full flex-col gap-4 lg:flex-row'>
  <img
    src={Service.img ? Service.img : '/img/bg/BG_T3.png'}
    class='max-h-[250px] rounded-lg object-cover object-center shadow lg:max-h-[300px] lg:w-1/3'
  />
  <div class='flex flex-col gap-4'>
    <div class='space-y-2'>
      <h5 class='font-title text-primary-500 text-3xl font-medium'>
        {t(Service.title)}
      </h5>
      <h6 class='font-title text-sm font-light text-neutral-500'>
        {t(Service.subtitle)}
      </h6>
    </div>
    <p class='font-body text-pretty text-neutral-800'>
      {t(Service.description)}
    </p>

    {
      Service.tech && Service.tech.length > 0 && (
        <div class='flex flex-col gap-2'>
          <h6 class='font-title text-primary-500 text-xl font-medium'>
            {t('service.tech.title')}
          </h6>
          <div class='flex gap-2'>
            {Service.tech.map((tech) => (
              <div
                class='aspect-square rounded-2xl bg-neutral-400 p-2'
                title={tech.title}
              >
                <Icon
                  name={tech.icon}
                  height='30px'
                  width='30px'
                />
              </div>
            ))}
          </div>
        </div>
      )
    }
  </div>
</div>
